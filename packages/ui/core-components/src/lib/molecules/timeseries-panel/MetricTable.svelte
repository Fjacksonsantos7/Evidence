<script>
	import { RadioGroup } from 'bits-ui';
	import MetricTableRow from './MetricTableRow.svelte';

	export let selectedMetric;
	export let metricStore;
	export let data;
	export let fmt = 'num0';
</script>

{#if data && data.length > 0}
	<RadioGroup.Root bind:value={selectedMetric} type="single" asChild let:builder>
		<div
			class="text-xs text-gray-500 grid grid-cols-3 gap-x-2 tabular-nums focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-200 focus-visible:ring-offset-2 rounded-md"
			use:builder.action
			{...builder}
		>
			{#each metricStore as metric}
				<RadioGroup.Item value={metric.label} asChild let:builder>
					<div
						class="cursor-pointer grid-cols-subgrid grid col-span-6 relative items-center p-2 rounded-md group focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-200 focus-visible:ring-offset-2"
						use:builder.action
						{...builder}
					>
						<MetricTableRow {data} {metric} {selectedMetric} {fmt} />
					</div>
				</RadioGroup.Item>
			{/each}
		</div>
	</RadioGroup.Root>
{/if}
